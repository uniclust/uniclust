Предупреждение "Warning: mb_strlen() expects parameter 1 to be string, array given in drupal_strlen()".
Смысл в том, что в форме мы задаём максимальную длину полей. В hook_form_validate проверяется длина этих полей
и вызывается функция drupal_strlen. Она как-то криво написана в папке с сайтом в файле includes/unicode.inc изменить
функцию drupal_strlen на вот такую:

function drupal_strlen($text) {
  global $multibyte;
  if (is_array($text)){
    foreach($text as $jtext) {
      if ($multibyte == UNICODE_MULTIBYTE) {
        return mb_strlen($jtext);
      }
      else {
        // Do not count UTF-8 continuation bytes.
        return strlen(preg_replace("/[\x80-\xBF]/", '', $jtext));
      }
    }
  }
  else {
    if ($multibyte == UNICODE_MULTIBYTE) {
      return mb_strlen($text);
    }
    else {
      // Do not count UTF-8 continuation bytes.
      return strlen(preg_replace("/[\x80-\xBF]/", '', $text));
    }
  }
}


Последний вставленный id за нынешнее подключение в mysql:
select last_insert_id()